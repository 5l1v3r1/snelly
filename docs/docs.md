<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Scene description](#scene-description)
-   [Scene](#scene-1)
    -   [init](#init)
    -   [initGenerator](#initgenerator)
    -   [envMap](#envmap)
    -   [getName](#getname)
    -   [getURL](#geturl)
    -   [shader](#shader)
    -   [initGui](#initgui)
    -   [syncShader](#syncshader)
    -   [getMinScale](#getminscale)
    -   [getMaxScale](#getmaxscale)
    -   [preframeCallback](#preframecallback)
    -   [postframeCallback](#postframecallback)
-   [Snelly global object](#snelly-global-object)
-   [Snelly](#snelly)
    -   [getVersion](#getversion)
    -   [getRenderer](#getrenderer)
    -   [getGUI](#getgui)
    -   [getCamera](#getcamera)
    -   [getControls](#getcontrols)
    -   [showGUI](#showgui)
    -   [getMaterials](#getmaterials)
    -   [getSurface](#getsurface)
-   [Materials](#materials)
-   [Materials](#materials-1)
    -   [loadDielectric](#loaddielectric)
    -   [loadMetal](#loadmetal)
    -   [getDielectric](#getdielectric)
    -   [getMetal](#getmetal)
    -   [getSurface](#getsurface-1)
-   [Surface](#surface)
-   [Dielectric](#dielectric)
-   [Metal](#metal)
-   [Rendering](#rendering)
-   [Renderer](#renderer)
    -   [reset](#reset)
-   [Utilities](#utilities)
-   [GUI](#gui)
    -   [sync](#sync)
-   [GLU](#glu)
-   [uniformI](#uniformi)
-   [uniformF](#uniformf)
-   [uniform2F](#uniform2f)
-   [uniform1Fv](#uniform1fv)
-   [uniform2Fv](#uniform2fv)
-   [uniform3F](#uniform3f)
-   [uniform3Fv](#uniform3fv)
-   [uniform4F](#uniform4f)
-   [uniform4Fv](#uniform4fv)
-   [uniformMatrix4fv](#uniformmatrix4fv)
-   [Material](#material)

## Scene description

## Scene

### Geometry

We define the rendered scene geometry by specifying, via the [Scene#shader](#sceneshader), three GLSL functions:

    - `SDF_SURFACE(vec3 X)`: the SDF of the uber-surface material
    - `SDF_METAL(vec3 X)`: the SDF of the (selected) metal material
    - `SDF_DIELECTRIC(vec3 X)`: the SDF of the (selected) dielectric material

These functions are assumed to be SDFs where the negative region corresponds to the interior of the body.
Thus there are at most only three types of material in the scene.

The details of the properties of the three material types can be selected via the [Materials](#materials) object.
In addition, spatial dependence of the material surface properties can be introduced by providing modulating GLSL functions.

### Lighting

For simplicity, the only light in the scene is a (non-HDRI) environment map. This can be specified via a URL to 
to a lat-long map, via the [Scene#envMap](#sceneenvmap) call:

```javascript
	/**
	* Optionally, supply an env-map texture URL (must be a lat-long format image).
	* (If this is function not implemented, or it returns the empty string, a uniform
	* temperature blackbody sky is used).
	*/
	Scene.prototype.envMap = function()
	{
	  	return 'https://cdn.rawgit.com/portsmouth/envmaps/74e9d389/HDR_040_Field_Bg.jpg';
	}
```

Or otherwise will be taken to be a constant intensity sky. 
In both cases, the sky spectrum is modulated by a blackbody emission spectrum with adjustable temperature (Set via [Renderer#skyTemperature](Renderer#skyTemperature)).

### Saving scene state

Often we want to explore and fine-tune a scene by moving the camera around, tweaking the scene parameters and materials, and adjusting renderer settings. This work would be wasted without a way to save the resulting scene state. This is provided by the simple mechanism of pressing the 'O' key to dump to the console a Javascript code which can be inserted into the [Scene#init](#sceneinit) function, to replicate the scene state. An example of this output is:

```javascript
/******* copy-pasted console output on 'O', begin *******/

let renderer  = snelly.getRenderer();
let camera    = snelly.getCamera();
let controls  = snelly.getControls();
let materials = snelly.getMaterials();
	
snelly.showGUI(true);

/** Camera settings:
*		camera is a THREE.PerspectiveCamera object
* 		controls is a THREE.OrbitControls object
*/
camera.fov = 45;
camera.up.set(0, 1, 0);
camera.position.set(10.32444633217751, -0.5153825294569127, -6.7722559545030085);
controls.target.set(-0.5561757324087446, -0.6317558415254627, -1.159897890031697);
controls.zoomSpeed = 2;
controls.keyPanSpeed = 100;

/** Renderer settings **/
renderer.renderMode = 'pt';  // The other modes are: 'ao', 'normals'
renderer.maxBounces = 5;
renderer.maxMarchSteps = 256;
renderer.radianceClamp = 3; // (log scale)
renderer.skyPower = 1;
renderer.skyTemperature = 6000;
renderer.exposure = 3;
renderer.gamma = 2.2;
renderer.whitepoint = 2;
renderer.goalFPS = 20;

/** Material settings **/
let surface = materials.loadSurface();
surface.roughness = 0.1;
surface.ior = 1.5;
surface.diffuseAlbedo = [1, 1, 1];
surface.specAlbedo = [1, 1, 1];

let dielectric = materials.loadDielectric('Diamond');
dielectric.absorptionColor = [0.5, 0.5, 0.5];
dielectric.absorptionScale = 100; // mfp in multiples of scene scale
dielectric.roughness = 0.007431448254773935;

let metal = materials.loadMetal('Copper');
metal.roughness = 0.006691306063588591;

/******* copy-pasted console output on 'O', end *******/
```

In order for user-specified scene parameters to be saved this way, it is necessay to implement a function to output the appropriate regeneration code. For example if the scene uses parameters

```javascript
	this.parameters = {};
	this.parameters.foo = 0.63143;
	this.parameters.foo2 = 0.631;
	this.parameters.bar = 0.586;
	this.animFrame = 0;
```

the appropriate generation code would be:

```javascript
/**
* Optionally, provide this function which generates the init code to re-generate 
* the current UI parameter settings. This will be dumped to the console (along with 
* the rest of the UI state) on pressing key 'O', allowing the scene and renderer
* state to be tweaked in the UI then saved by copy-pasting code into the init function below.
*/
Scene.prototype.initGenerator = function()
{
	return `
this.parameters = {};
this.parameters.foo = ${this.parameters.foo};
this.parameters.foo2 = ${this.parameters.foo2};
this.parameters.bar = ${this.parameters.bar};
this.animFrame = ${this.animFrame};
	`; 
}
```

With this code in place, the output on pressing 'O' is then a faithful representation of the entire scene state.

### Callbacks and animation

For implementation of custom animation logic, we use the simple mechanism of pre- and post-frame user callbacks, wherein the user can implement whatever logic he needs. See the provided examples for details of how to use this implement animating scenes, and movie rendering.

    Scene.prototype.preframeCallback = function(snelly, gl);
    Scene.prototype.postframeCallback = function(snelly, gl);


## Scene

[js/sceneAPI.js:3-3](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L3-L3 "Source code on GitHub")

### init

[js/sceneAPI.js:13-70](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L13-L70 "Source code on GitHub")

Optionally (but usually), provide this function to set scene and renderer initial state.

**Parameters**

-   `snelly` **[Snelly](#snelly)** The snelly object

### initGenerator

[js/sceneAPI.js:78-86](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L78-L86 "Source code on GitHub")

Optionally, provide this function which generates the init code to re-generate 
the current UI parameter settings. This will be dumped to the console (along with 
the rest of the UI state) on pressing key 'O', allowing the scene and renderer
state to be tweaked in the UI then saved by copy-pasting code into the init function below.

### envMap

[js/sceneAPI.js:93-100](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L93-L100 "Source code on GitHub")

Optionally, supply an env-map texture URL (must be a lat-long format image).
(If this is function not implemented, or it returns the empty string, a uniform
temperature blackbody sky is used).

### getName

[js/sceneAPI.js:106-106](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L106-L106 "Source code on GitHub")

Optional name (displayed in UI)

### getURL

[js/sceneAPI.js:111-111](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L111-L111 "Source code on GitHub")

Optional clickable URL (displayed in UI)

### shader

[js/sceneAPI.js:158-324](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L158-L324 "Source code on GitHub")

This function is mandatory!
Return a chunk of GLSL code defining the SDFs which determine the geometry of uber-surface, metal and dielectric materials in the scene.
Define also (optionally) functions giving the 3d spatial dependence of the material parameters.
The code _must_ define at least one of the three functions:

```glsl
     float SDF_METAL(vec3 X);
     float SDF_DIELECTRIC(vec3 X);
     float SDF_DIFFUSE(vec3 X);
```

If only one or two of these are present, the others will not be rendered.
Optionally, any of the following functions defining the spatial _modulation_ of material parameters can be defined.
(Any of the user-defined functions below can be omitted, in which case they will be replaced with the default indicated).

```glsl
// space-varying multiplier to the UI-exposed color (defaults to vec3(1.0))
vec3 SURFACE_DIFFUSE_REFLECTANCE(in vec3 X);

// space-varying multiplier to the UI-exposed color (defaults to vec3(1.0))
vec3 SURFACE_SPECULAR_REFLECTANCE(in vec3 X);

// space-varying multiplier to the UI-exposed constant (defaults to 1.0)
float SURFACE_IOR(in vec3 X);

// space-varying multiplier to the UI-exposed constant (defaults to 1.0)
float SURFACE_ROUGHNESS(in vec3 X);

// space-varying multiplier to the UI-exposed color (defaults to vec3(1.0))
vec3 METAL_SPECULAR_REFLECTANCE(in vec3 X);

// space-varying multiplier to the UI-exposed constant (defaults to 1.0)
float METAL_ROUGHNESS(in vec3 X);

// space-varying multiplier to the UI-exposed color (defaults to vec3(1.0))
vec3 DIELECTRIC_SPECULAR_REFLECTANCE(in vec3 X);

// space-varying multiplier to the UI-exposed constant (defaults to 1.0)
float DIELECTRIC_ROUGHNESS(in vec3 X);
```

Returns **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** .

### initGui

[js/sceneAPI.js:330-335](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L330-L335 "Source code on GitHub")

/\* Optional. Set up gui and callbacks for this scene

**Parameters**

-   `gui`  
-   `The` **[GUI](#gui)** GUI object

### syncShader

[js/sceneAPI.js:342-347](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L342-L347 "Source code on GitHub")

/_ Optional. Called whenever the UI is changed,
/_ and must sync the params of the shader with the current UI settings

**Parameters**

-   `shader`  
-   `The` **Shader** Shader object

### getMinScale

[js/sceneAPI.js:355-358](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L355-L358 "Source code on GitHub")

Optional. Gives the raytracer some indication of the (rough) minimum length scale, 
so it can set tolerances appropriately. This sets the rough length scale of the smallest 
resolvable structure. (Note that decreasing this will usually lead to longer render times).
Defaults to 0.0001.

### getMaxScale

[js/sceneAPI.js:368-371](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L368-L371 "Source code on GitHub")

Optional. Gives the raytracer some indication of the (rough) maximum length scale, 
so it can set tolerances appropriately. The raymarcher will march no further
from the camera than this scale, thus it acts as the "far plane" distance.
(Note that increasing this will usually lead to longer render times).
Defaults to 100.0.

### preframeCallback

[js/sceneAPI.js:385-455](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L385-L455 "Source code on GitHub")

Optional callback before every frame.
Animation rendering logic can be implemented here by updating the scene 
programmatically according to the global time since init

**Parameters**

-   `snelly`  
-   `gl`  
-   `The` **[Snelly](#snelly)** snelly object
-   `The` **[WebGLRenderingContext](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext)** webGL context

### postframeCallback

[js/sceneAPI.js:465-491](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/sceneAPI.js#L465-L491 "Source code on GitHub")

Optional callback after every frame.
Animation rendering logic can be implemented here by updating the scene 
programmatically according to the global time since init

**Parameters**

-   `snelly`  
-   `gl`  
-   `The` **[Snelly](#snelly)** snelly object
-   `The` **[WebGLRenderingContext](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext)** webGL context

## Snelly global object

Snelly is the global object providing access to all functionality in the system.


## Snelly

[js/snelly.js:5-79](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L5-L79 "Source code on GitHub")

**Parameters**

-   `sceneObj` **[Scene](#scene)** The user-defined scene

### getVersion

[js/snelly.js:85-88](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L85-L88 "Source code on GitHub")

Returns the current version number of the snelly system, in the format [1, 2, 3]

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** 

### getRenderer

[js/snelly.js:108-111](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L108-L111 "Source code on GitHub")

Access to the Renderer object

Returns **[Renderer](#renderer)** 

### getGUI

[js/snelly.js:117-120](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L117-L120 "Source code on GitHub")

Access to the GUI object

Returns **[Renderer](#renderer)** 

### getCamera

[js/snelly.js:126-129](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L126-L129 "Source code on GitHub")

Access to the camera object

Returns **THREE.PerspectiveCamera** .

### getControls

[js/snelly.js:135-138](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L135-L138 "Source code on GitHub")

Access to the camera controller object

Returns **THREE.OrbitControls** .

### showGUI

[js/snelly.js:144-147](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L144-L147 "Source code on GitHub")

Programmatically show or hide the dat.GUI UI

**Parameters**

-   `showGUI`  
-   `snelly` **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** The snelly object

### getMaterials

[js/snelly.js:333-336](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L333-L336 "Source code on GitHub")

Get materials object

Returns **[Materials](#materials)** the Materials object.

### getSurface

[js/snelly.js:374-377](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/snelly.js#L374-L377 "Source code on GitHub")

Get Surface object

Returns **[Surface](#surface)** the Surface object.

## Materials

The API for specifying material properties.


## Materials

[js/materials.js:595-658](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L595-L658 "Source code on GitHub")

### loadDielectric

[js/materials.js:707-711](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L707-L711 "Source code on GitHub")

Load the desired Dielectric object by name. Supported dielectrics are:

-   "Constant IOR dielectric"
-   "Glass (BK7)"
-   "Glass (K7)"
-   "Glass (F5)"
-   "Glass (LAFN7)"
-   "Glass (LASF35)"
-   "Glass (N-LAK33A)"
-   "Glass (N-FK51A)"
-   "Glass (SF4)"
-   "Glass (SF67)"
-   "Water"
-   "Polycarbonate"
-   "Glycerol"
-   "Liquid Crystal (E7)"
-   "Diamond"
-   "Quartz"
-   "Fused Silica"
-   "Sapphire"
-   "Sodium Chloride"
-   "Proustite"
-   "Rutile (Titanium Dioxide)"
-   "Silver Chloride"

**Parameters**

-   `dielectricName` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** one of the names listed above

Returns **[Dielectric](#dielectric)** the loaded dielectric

### loadMetal

[js/materials.js:740-744](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L740-L744 "Source code on GitHub")

Load the desired Metal object by name. Supported metals are:

-   "Aluminium"
-   "Brass",   
-   "Calcium", 
-   "Chromium",
-   "Cobalt",  
-   "Copper",  
-   "Gold",    
-   "Iridium", 
-   "Iron",    
-   "Lead",    
-   "Mercury", 
-   "Molybdenum
-   "Nickel",  
-   "Palladium"
-   "Platinum",
-   "Silicon", 
-   "Silver",  
-   "Titanium",
-   "Tungsten",
-   "Vanadium",
-   "Zinc",    
-   "Zirconium"

**Parameters**

-   `metalName` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** one of the names listed above

Returns **[Metal](#metal)** the loaded metal

### getDielectric

[js/materials.js:755-758](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L755-L758 "Source code on GitHub")

Get the currently loaded Dielectric object.

Returns **[Dielectric](#dielectric)** 

### getMetal

[js/materials.js:769-772](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L769-L772 "Source code on GitHub")

Get the currently loaded Metal object.

Returns **[Metal](#metal)** 

### getSurface

[js/materials.js:784-787](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L784-L787 "Source code on GitHub")

Get the Surface object.

Returns **[Surface](#surface)** 

## Surface

[js/materials.js:43-51](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L43-L51 "Source code on GitHub")

**Parameters**

-   `name`  
-   `desc`  

**Properties**

-   `roughness` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The surface roughness
-   `ior` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The surface coating ior
-   `diffuseAlbedo` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** The surface diffuse (RGB) color
-   `specAlbedo` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** The surface spec (RGB) color

**Examples**

```javascript
surface.roughness = 0.05;
surface.ior = 1.3530655391120507;
surface.diffuseAlbedo = [0.5, 0.5, 0.5];
surface.specAlbedo = [0.0, 0.0, 0.0];
```

## Dielectric

[js/materials.js:271-279](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L271-L279 "Source code on GitHub")

**Parameters**

-   `name`  
-   `desc`  

**Properties**

-   `roughness` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The dielectric surface roughness

**Examples**

```javascript
let dielectric = materials.loadDielectric('Diamond');
dielectric.absorptionColor = [1.0, 1.0, 1.0];
dielectric.absorptionScale = 1.0; // mfp in multiples of scene scale
dielectric.roughness = 0.030443974630021145;
```

## Metal

[js/materials.js:78-82](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L78-L82 "Source code on GitHub")

**Parameters**

-   `name`  
-   `desc`  

**Properties**

-   `roughness` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The metal surface roughness

**Examples**

```javascript
let metal = materials.loadMetal('Gold');
 metal.roughness = 0.05;
```

## Rendering

The renderer itself is a uni-directional pathtracer (with adjunct modes for ambient occlusion and normals rendering).


## Renderer

[js/renderer.js:71-142](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/renderer.js#L71-L142 "Source code on GitHub")

**Parameters**

-   `width` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** width (if not specified, fits to window)
-   `height` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** height (if not specified, fits to window)
-   `renderMode` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** rendering mode (either 'pt', 'ao', or 'normals') (optional, default `pt`)
-   `maxMarchSteps` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** maximum number of raymarching steps per path segment (optional, default `512`)
-   `radianceClamp` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** clamp radiance to this max value, for firefly reduction
-   `skyPower` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** sky power (arbitrary units) (optional, default `4.0`)
-   `skyTemperature` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** sky temperature (in Kelvin) (optional, default `6000`)
-   `exposure` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** exposure, on a log scale (optional, default `4.5`)
-   `gamma` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** display gamma correction (optional, default `2.2`)
-   `whitepoint` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** tonemapping whitepoint (optional, default `2.0`)
-   `goalFPS` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** sampling will adjust to try to match goal FPS (optional, default `10.0`)
-   `minsSPPToRedraw` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** if >0.0, renderer will not redraw until the specified SPP have been accumulated (optional, default `0.0`)

### reset

[js/renderer.js:163-171](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/renderer.js#L163-L171 "Source code on GitHub")

Restart accumulating samples.

**Parameters**

-   `no_recompile` **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** set to true if shaders need recompilation too (optional, default `false`)

## Utilities

These utilities provide for more easily setting up GUI control of the GLSL-defined scene.


## GUI

[js/gui.js:5-18](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gui.js#L5-L18 "Source code on GitHub")

**Parameters**

-   `visible`   (optional, default `true`)

### sync

[js/gui.js:34-37](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gui.js#L34-L37 "Source code on GitHub")

## GLU

[js/gl.js:8-8](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L8-L8 "Source code on GitHub")

Namespace for webGL utility wrappers.
Functions for loading uniform variables is exposed to the user
for convenience.

## uniformI

[js/gl.js:179-184](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L179-L184 "Source code on GitHub")

Provide an integer (via uniform1i) to the currently bound shader

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `i` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The integer value

## uniformF

[js/gl.js:190-195](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L190-L195 "Source code on GitHub")

Provide a float (via uniform1f) to the currently bound shader

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `f`  
-   `i` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The float value

## uniform2F

[js/gl.js:202-207](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L202-L207 "Source code on GitHub")

Provide a vec2 uniform (via uniform2f) to the currently bound shader

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `f1` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The first float value
-   `f2` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The second float value

## uniform1Fv

[js/gl.js:214-219](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L214-L219 "Source code on GitHub")

Provide an array of floats (via uniform1Fv) to the currently bound shader
  i.e. the shader declares e.g. `uniform float values[19];`

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `fvec` **[Float32Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)** An array of floats

## uniform2Fv

[js/gl.js:226-231](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L226-L231 "Source code on GitHub")

Provide an array of vec2 (via uniform2fv) to the currently bound shader
  i.e. the shader declares e.g. `uniform vec2 vectors[19];`

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `fvec2` **[Float32Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)** An array of floats, 2 per vector

## uniform3F

[js/gl.js:239-244](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L239-L244 "Source code on GitHub")

Provide a vec3 uniform (via uniform3f) to the currently bound shader

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `f1` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The first float value
-   `f2` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The second float value
-   `f3` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The third float value

## uniform3Fv

[js/gl.js:251-256](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L251-L256 "Source code on GitHub")

Provide an array of vec3 (via uniform3fv) to the currently bound shader
  i.e. the shader declares e.g. `uniform vec3 vectors[19];`

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `fvec3` **[Float32Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)** An array of floats, 3 per vector

## uniform4F

[js/gl.js:265-270](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L265-L270 "Source code on GitHub")

Provide a vec4 uniform (via uniform4F) to the currently bound shader

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `f1` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The first float value
-   `f2` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The second float value
-   `f3` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The fourth float value
-   `f4`  

## uniform4Fv

[js/gl.js:277-282](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L277-L282 "Source code on GitHub")

Provide an array of vec4 (via uniform4fv) to the currently bound shader
  i.e. the shader declares e.g. `uniform vec4 vectors[19];`

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `fvec4` **[Float32Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)** An array of floats, 4 per vector

## uniformMatrix4fv

[js/gl.js:289-294](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/gl.js#L289-L294 "Source code on GitHub")

Provide a matrix (via uniformMatrix4fv) to the currently bound shader
/\*  i.e. the shader declares e.g. `uniform mat4 matrix;`

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the uniform variable
-   `matrixArray16` **[Float32Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array)** An array of 16 floats

## Material

[js/materials.js:10-14](https://github.com/portsmouth/snellypt/blob/630f90727696303b2483ffaa7e1e2b1911a0a40b/js/materials.js#L10-L14 "Source code on GitHub")

**Parameters**

-   `name`  
-   `desc`  
